<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2020-04-29T03:10:59Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template INSPURM4Server Warn</template>
            <name>Template INSPURM4Server Warn</name>
            <description>get the hardware status of the inspurM4 servers</description>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>cpu</name>
                </application>
                <application>
                    <name>fan</name>
                </application>
                <application>
                    <name>memory</name>
                </application>
                <application>
                    <name>network</name>
                </application>
                <application>
                    <name>pci</name>
                </application>
                <application>
                    <name>power</name>
                </application>
                <application>
                    <name>storage</name>
                </application>
                <application>
                    <name>system</name>
                </application>
                <application>
                    <name>thermal</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>ArrayController Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.1.9.1.1.4</snmp_oid>
                    <key>ArrayControllerStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>storage</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                </item>
                <item>
                    <name>CPU Status</name>
                    <type>SNMPV3</type>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.6</snmp_oid>
                    <key>CPUStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>cpu</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>CPU Warning</name>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Disk Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.4</snmp_oid>
                    <key>DiskStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>storage</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                </item>
                <item>
                    <name>Fan Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.3</snmp_oid>
                    <key>FanStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>fan</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>Fan Warning</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Global Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4</snmp_oid>
                    <key>GlobalStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>system</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}=3</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>GlobalStatus Warning</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Template ICMP Ping: ICMP ping</name>
                    <type>SIMPLE</type>
                    <key>icmpping</key>
                    <delay>60s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>system</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{max(3)}=0</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{max(1)}&gt;0</recovery_expression>
                            <name>{HOST.NAME} ping not reachable</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Memory Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.5</snmp_oid>
                    <key>MemoryStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>memory</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>MemoryStatus Warning</name>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Network Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.1.6.2.1.4</snmp_oid>
                    <key>NetworkStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>network</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Power State</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.12</snmp_oid>
                    <key>PowerState</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>system</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPPowerState</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}=2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&gt;2</recovery_expression>
                            <name>Server  Power Off</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Power Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.1</snmp_oid>
                    <key>PowerStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>power</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>PowerStatus Warning</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Temperature Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.2</snmp_oid>
                    <key>TemperatureStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>thermal</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>HPHealthStatusMapping</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;2</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last(0)}&lt;=2</recovery_expression>
                            <name>TemperatureStatus Warning</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Server  Power Off</name>
                                    <expression>{Template INSPURM4Server Warn:PowerState.last(0)}=2</expression>
                                    <recovery_expression>{Template INSPURM4Server Warn:PowerState.last(0)}&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Voltage Status</name>
                    <type>SNMPV3</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>.1.3.6.1.4.1.37945.3.1.3.1.1.1.4.8</snmp_oid>
                    <key>VoltageStatus</key>
                    <delay>300s</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <snmpv3_securityname>{$SNMP_INSPUR_M4_USER}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authpassphrase>{$SNMP_INSPUR_AUTH}</snmpv3_authpassphrase>
                    <snmpv3_privpassphrase>{$SNMP_INSPUR_PRIV}</snmpv3_privpassphrase>
                    <port>{$SNMP_PORT}</port>
                    <applications>
                        <application>
                            <name>power</name>
                        </application>
                    </applications>
                </item>
            </items>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>HPHealthStatusMapping</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>degraded</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>failed</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>HPPowerState</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Off</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>On</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>Other</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
